<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <style>
        button {
            cursor: pointer;
        }
    </style>
    <script>
        window.onload = function () {
            function evenNumberCheck(value, index, array) {
                return (value % 2) == 0;
            }
            var evenNumbers = new Array(0, 2, 4, 6, 8, 9, 10, 12);
            document.getElementById("evenNumbers").innerHTML = "evenNumbers: " + evenNumbers;
            
            /* 
            Utilizando o método every
            Determina se todos os elementos do array satisfazem a condição
            da função de callback que é processada para cada elemento.
            */
            document.getElementById("every").onclick = function () {
                var allEven = evenNumbers.every(evenNumberCheck, this);
                if (allEven) {
                    alert("Todos pares: " + allEven);
                } else {
                    alert("Todos pares: " + allEven);
                }
            }

            /*
            Utilizando o método some
            Determina se algum elemento do array satisfaz a condição
            da função de callback que é processada para cada elemento.
            */
            document.getElementById("some").onclick = function () {
                var allEven = evenNumbers.some(evenNumberCheck, this);
                if (allEven) {
                    alert("Algum par: " + allEven);
                } else {
                    alert("Algum par: " + allEven);
                }
            }

            function offerSport(value, index, array) {
                var sportsList = document.getElementById("sportsList");
                var bullet = document.createElement("li");
                bullet.innerText = value;
                sportsList.appendChild(bullet);
            }
            var sportsArray = ['soccer', 'basketball', 'hockey', 'cricket', 'rugby'];
            document.getElementById("sportsArray").innerHTML = "sportsArray: " + sportsArray;
            /*
            Utilizando o método forEach
            Processa alguma lógica da função de callback para cada
            elemento do array e não retorna nenhum valor
            */
            document.getElementById("forEach").onclick = function () {
                sportsArray.forEach(offerSport);
            }
            // Métodos podem ser encadeados, por exemplo, para ordenar em ordem alfabética
            document.getElementById("sortForEach").onclick = function () {
                sportsArray.sort().forEach(offerSport);
            }

            /*
            Utilizando o método filter
            Retorna um novo array com os elementos que satisfazem
            a função de callback
            */
            document.getElementById("filter").onclick = function () {
                var allEvenFilter = evenNumbers.filter(evenNumberCheck, evenNumbers);
                document.getElementById("allEvenFilter").innerHTML = "allEvenFilter: " + allEvenFilter;
            }

            var money = [12.8, 15.9, 21.7, 35.2];
            document.getElementById("money").innerHTML = "money: " + money;
            var numbers = [1, 2, 3, 4, 5, 6, 7, 8];
            document.getElementById("numbers").innerHTML = "numbers: " + numbers;

            /*
            Utilizando o método map
            Chama uma função de callback para cada elemento do array
            e retorna um array que contém o resultado
            */
            document.getElementById("mapMoney").onclick = function () {
                var roundedMoney = money.map(roundOff, money);
                function roundOff(value, position, array) {
                    return Math.round(value);
                }

                document.getElementById("roundedMoney").innerHTML = "roundedMoney: " + roundedMoney;
            }
            // Função que retorna o quadrado de uma série de números
            document.getElementById("mapSquare").onclick = function () {
                var squares = numbers.map(squareNumber, numbers);
                function squareNumber(value, position, array) {
                    return value * value;
                }

                document.getElementById("squares").innerHTML = "squares: " + squares;
            }

            /*
            Utilizando os métodos reduce e reduceRight
            São métodos recursivos. Cada resultado da função do callback é passado
            de volta como parâmetro junto com o elemento atual.
            reduce processa os elementos do array em ordem crescente
            reduceRight processa os elementos do array em ordem decrescente
            */
            document.getElementById("reduce").onclick = function () {
                var factorials = numbers.reduce(factorial);
                function factorial(previous, current) {
                    return previous * current;
                }

                document.getElementById("factorials").innerHTML = "factorials: " + factorials;
            }
        }
    </script>
</head>

<body>
    <pre>
        var evenNumbers = new Array(0, 2, 4, 6, 8, 9, 10, 12);
        <p id="evenNumbers"></p>
        function evenNumberCheck(value, index, array) {
            return (value % 2) == 0;
        }

        var allEven = evenNumbers.<button id="every">every</button>(evenNumberCheck, this);
        if (allEven) {
            alert("Todos pares: " + allEven);
        } else {
            alert("Todos pares: " + allEven);
        }

        allEven = evenNumbers.<button id="some">some</button>(evenNumberCheck, this);
        if (allEven) {
            alert("Algum par: " + allEven);
        } else {
            alert("Algum par: " + allEven);
        }

        var allEvenFilter = evenNumbers.<button id="filter">filter</button>(evenNumberCheck, evenNumbers);
        <p id="allEvenFilter">allEvenFilter: </p>
    </pre>

    <hr>

    <pre>
        var sportsArray = ['soccer', 'basketball', 'hockey', 'cricket', 'rugby'];
        <p id="sportsArray"></p>
        function offerSport(value, index, array) {
            var sportsList = document.getElementById("sportsList");
            var bullet = document.createElement("li");
            bullet.innerText = value;
            sportsList.appendChild(bullet);
        }

        sportsArray.<button id="forEach">forEach</button>(offerSport);
        sportsArray.<button id="sortForEach">sort().forEach</button>(offerSport);
    </pre>
    <ul id="sportsList"></ul>

    <hr>

    <pre>
        function roundOff(value, position, array) {
            return Math.round(value);
        }

        var money = [12.8, 15.9, 21.7, 35.2];
        <p id="money"></p>
        var roundedMoney = money.<button id="mapMoney">map</button>(roundOff, money);
        <p id="roundedMoney">roundedMoney: </p>
    </pre>

    <hr>

    <pre>
        function squareNumber(value, position, array) {
            return value * value;
        }

        function factorial(previous, current) {
            return previous * current;
        }

        var numbers = [1, 2, 3, 4, 5, 6, 7, 8];
        <p id="numbers"></p>
        var squares = numbers.<button id="mapSquare">map</button>(squareNumber, numbers);
        var factorials = numbers.<button id="reduce">reduce</button>(factorial);
        <p id="squares">squares: </p>
        <p id="factorials">factorials: </p>
    </pre>

</body>

</html>